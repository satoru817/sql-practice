-- ECサイトの分析用サンプルデータ

-- テーブル作成
CREATE TABLE IF NOT EXISTS customers (
  customer_id INT PRIMARY KEY,
  name VARCHAR(100),
  email VARCHAR(100),
  registration_date DATE,
  customer_segment VARCHAR(50),
  total_purchases DECIMAL(10,2)
);

CREATE TABLE IF NOT EXISTS products (
  product_id INT PRIMARY KEY,
  name VARCHAR(100),
  category VARCHAR(50),
  subcategory VARCHAR(50),
  price DECIMAL(10,2)
);

CREATE TABLE IF NOT EXISTS orders (
  order_id INT PRIMARY KEY,
  customer_id INT,
  order_date DATE,
  total_amount DECIMAL(10,2),
  payment_method VARCHAR(50),
  FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);

CREATE TABLE IF NOT EXISTS order_items (
  order_id INT,
  product_id INT,
  quantity INT,
  unit_price DECIMAL(10,2),
  discount DECIMAL(10,2),
  PRIMARY KEY (order_id, product_id),
  FOREIGN KEY (order_id) REFERENCES orders(order_id),
  FOREIGN KEY (product_id) REFERENCES products(product_id)
);

-- 顧客データ
INSERT INTO customers (customer_id, name, email, registration_date, customer_segment, total_purchases) VALUES
(1, '佐藤健太', 'sato.k@example.com', '2024-01-15', 'Premium', 358000.00),
(2, '田中美咲', 'tanaka.m@example.com', '2024-02-03', 'Standard', 125000.00),
(3, '鈴木一郎', 'suzuki.i@example.com', '2024-01-22', 'Premium', 432000.00),
(4, '高橋優子', 'takahashi.y@example.com', '2024-03-05', 'Standard', 87500.00),
(5, '伊藤誠', 'ito.m@example.com', '2024-02-18', 'Premium', 289000.00),
(6, '渡辺直樹', 'watanabe.n@example.com', '2024-01-30', 'Standard', 112000.00),
(7, '山本花子', 'yamamoto.h@example.com', '2024-02-10', 'Standard', 135000.00),
(8, '中村太郎', 'nakamura.t@example.com', '2024-03-12', 'New', 45000.00),
(9, '小林洋子', 'kobayashi.y@example.com', '2024-04-05', 'New', 32000.00),
(10, '加藤大輔', 'kato.d@example.com', '2024-01-08', 'Premium', 523000.00),
(11, '吉田美穂', 'yoshida.m@example.com', '2024-02-20', 'Standard', 98000.00),
(12, '山田隆', 'yamada.t@example.com', '2024-03-25', 'New', 28000.00),
(13, '佐々木雅彦', 'sasaki.m@example.com', '2024-01-17', 'Premium', 387000.00),
(14, '井上幸子', 'inoue.s@example.com', '2024-02-28', 'Standard', 142000.00),
(15, '木村拓也', 'kimura.t@example.com', '2024-04-10', 'New', 18000.00);

-- 製品データ
INSERT INTO products (product_id, name, category, subcategory, price) VALUES
(101, '4K対応55インチテレビ', '家電', 'テレビ', 120000.00),
(102, 'ノートパソコン', '家電', 'パソコン', 85000.00),
(103, 'スマートフォン', '家電', 'モバイル', 78000.00),
(104, 'ワイヤレスイヤホン', '家電', 'オーディオ', 22000.00),
(105, 'スマートウォッチ', '家電', 'ウェアラブル', 32000.00),
(106, '冷蔵庫', '家電', '大型家電', 95000.00),
(107, '洗濯機', '家電', '大型家電', 85000.00),
(201, 'レザージャケット', 'ファッション', 'アウター', 45000.00),
(202, 'デニムパンツ', 'ファッション', 'ボトムス', 12000.00),
(203, 'カジュアルシャツ', 'ファッション', 'トップス', 8500.00),
(204, 'スニーカー', 'ファッション', 'シューズ', 15000.00),
(205, 'ハンドバッグ', 'ファッション', 'バッグ', 28000.00),
(301, 'ダイニングテーブル', '家具', 'ダイニング', 78000.00),
(302, 'ソファ', '家具', 'リビング', 95000.00),
(303, 'ベッド', '家具', '寝室', 120000.00),
(304, 'オフィスチェア', '家具', 'オフィス', 45000.00),
(305, '本棚', '家具', 'ストレージ', 32000.00),
(401, 'キッチンミキサー', '生活雑貨', 'キッチン', 15000.00),
(402, '掃除機', '生活雑貨', '清掃', 28000.00),
(403, '加湿器', '生活雑貨', '季節家電', 12000.00);

-- 注文データ（過去12ヶ月分）
INSERT INTO orders (order_id, customer_id, order_date, total_amount, payment_method) VALUES
-- 2024年1月
(1001, 1, '2024-01-20', 120000.00, 'クレジットカード'),
(1002, 3, '2024-01-22', 85000.00, 'クレジットカード'),
(1003, 5, '2024-01-25', 78000.00, 'PayPay'),
(1004, 10, '2024-01-28', 120000.00, 'クレジットカード'),
(1005, 13, '2024-01-30', 95000.00, '銀行振込'),

-- 2024年2月
(1006, 2, '2024-02-05', 45000.00, 'クレジットカード'),
(1007, 7, '2024-02-12', 32000.00, 'PayPay'),
(1008, 11, '2024-02-15', 28000.00, 'クレジットカード'),
(1009, 14, '2024-02-18', 45000.00, 'PayPay'),
(1010, 6, '2024-02-20', 22000.00, 'クレジットカード'),
(1011, 3, '2024-02-22', 95000.00, 'クレジットカード'),
(1012, 5, '2024-02-25', 78000.00, 'PayPay'),
(1013, 1, '2024-02-28', 85000.00, 'クレジットカード'),

-- 2024年3月
(1014, 4, '2024-03-08', 32000.00, 'PayPay'),
(1015, 8, '2024-03-15', 45000.00, 'クレジットカード'),
(1016, 12, '2024-03-18', 28000.00, 'PayPay'),
(1017, 10, '2024-03-20', 120000.00, 'クレジットカード'),
(1018, 13, '2024-03-22', 85000.00, 'クレジットカード'),
(1019, 6, '2024-03-25', 45000.00, 'PayPay'),
(1020, 7, '2024-03-28', 32000.00, 'クレジットカード'),

-- 2024年4月
(1021, 9, '2024-04-05', 32000.00, 'クレジットカード'),
(1022, 15, '2024-04-12', 18000.00, 'PayPay'),
(1023, 2, '2024-04-15', 28000.00, 'クレジットカード'),
(1024, 3, '2024-04-18', 95000.00, 'PayPay'),
(1025, 5, '2024-04-20', 45000.00, 'クレジットカード'),
(1026, 10, '2024-04-22', 85000.00, 'クレジットカード'),
(1027, 1, '2024-04-25', 32000.00, 'PayPay'),
(1028, 13, '2024-04-28', 78000.00, 'クレジットカード'),

-- 2024年5月
(1029, 4, '2024-05-05', 28000.00, 'PayPay'),
(1030, 11, '2024-05-10', 45000.00, 'クレジットカード'),
(1031, 14, '2024-05-12', 32000.00, 'PayPay'),
(1032, 7, '2024-05-15', 45000.00, 'クレジットカード'),
(1033, 1, '2024-05-18', 120000.00, 'クレジットカード'),
(1034, 3, '2024-05-20', 78000.00, 'PayPay'),
(1035, 10, '2024-05-22', 95000.00, 'クレジットカード'),
(1036, 13, '2024-05-25', 22000.00, 'PayPay'),
(1037, 6, '2024-05-28', 45000.00, 'クレジットカード'),

-- 2024年6月
(1038, 2, '2024-06-05', 28000.00, 'クレジットカード'),
(1039, 8, '2024-06-08', 22000.00, 'PayPay'),
(1040, 12, '2024-06-10', 15000.00, 'クレジットカード'),
(1041, 5, '2024-06-12', 45000.00, 'クレジットカード'),
(1042, 10, '2024-06-15', 85000.00, 'PayPay'),
(1043, 1, '2024-06-18', 28000.00, 'クレジットカード'),
(1044, 3, '2024-06-20', 32000.00, 'クレジットカード'),
(1045, 14, '2024-06-22', 45000.00, 'PayPay'),
(1046, 7, '2024-06-25', 28000.00, 'クレジットカード'),
(1047, 13, '2024-06-28', 95000.00, 'PayPay');

-- 注文明細データ
INSERT INTO order_items (order_id, product_id, quantity, unit_price, discount) VALUES
-- 1月の注文
(1001, 101, 1, 120000.00, 0.00),
(1002, 102, 1, 85000.00, 0.00),
(1003, 103, 1, 78000.00, 0.00),
(1004, 101, 1, 120000.00, 0.00),
(1005, 106, 1, 95000.00, 0.00),

-- 2月の注文
(1006, 201, 1, 45000.00, 0.00),
(1007, 105, 1, 32000.00, 0.00),
(1008, 205, 1, 28000.00, 0.00),
(1009, 201, 1, 45000.00, 0.00),
(1010, 104, 1, 22000.00, 0.00),
(1011, 106, 1, 95000.00, 0.00),
(1012, 103, 1, 78000.00, 0.00),
(1013, 102, 1, 85000.00, 0.00),

-- 3月の注文
(1014, 105, 1, 32000.00, 0.00),
(1015, 201, 1, 45000.00, 0.00),
(1016, 205, 1, 28000.00, 0.00),
(1017, 101, 1, 120000.00, 0.00),
(1018, 102, 1, 85000.00, 0.00),
(1019, 201, 1, 45000.00, 0.00),
(1020, 105, 1, 32000.00, 0.00),

-- 4月の注文
(1021, 105, 1, 32000.00, 0.00),
(1022, 403, 1, 12000.00, 0.00),
(1022, 401, 1, 6000.00, 0.00),
(1023, 205, 1, 28000.00, 0.00),
(1024, 106, 1, 95000.00, 0.00),
(1025, 201, 1, 45000.00, 0.00),
(1026, 102, 1, 85000.00, 0.00),
(1027, 105, 1, 32000.00, 0.00),
(1028, 103, 1, 78000.00, 0.00),

-- 5月の注文
(1029, 205, 1, 28000.00, 0.00),
(1030, 201, 1, 45000.00, 0.00),
(1031, 105, 1, 32000.00, 0.00),
(1032, 304, 1, 45000.00, 0.00),
(1033, 101, 1, 120000.00, 0.00),
(1034, 103, 1, 78000.00, 0.00),
(1035, 106, 1, 95000.00, 0.00),
(1036, 104, 1, 22000.00, 0.00),
(1037, 304, 1, 45000.00, 0.00),

-- 6月の注文
(1038, 205, 1, 28000.00, 0.00),
(1039, 104, 1, 22000.00, 0.00),
(1040, 204, 1, 15000.00, 0.00),
(1041, 201, 1, 45000.00, 0.00),
(1042, 102, 1, 85000.00, 0.00),
(1043, 402, 1, 28000.00, 0.00),
(1044, 105, 1, 32000.00, 0.00),
(1045, 304, 1, 45000.00, 0.00),
(1046, 402, 1, 28000.00, 0.00),
(1047, 302, 1, 95000.00, 0.00);
